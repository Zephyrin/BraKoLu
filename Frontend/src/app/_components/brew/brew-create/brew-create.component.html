<form [formGroup]="service.form"
      *ngIf="service.form"
      (ngSubmit)="onSubmitClick()">
  <mat-dialog-content>
    <fieldset [disabled]="service.loadingSource"
              [ngStyle]="{'pointer-events':service.loadingSource ? 'none' : 'auto' }">
    </fieldset>
    <mat-form-field class="full-width">
      <mat-label>Nom</mat-label>
      <input matInput
             required
             formControlName="name"
             placeholder="Ex: J'en connais pas."
             value="">
      <mat-error>
        {{service.form.get('name').errors?.serverError}}
      </mat-error>
    </mat-form-field>
    <mat-form-field class="full-width">
      <mat-label>ABV</mat-label>
      <input matInput
             required
             formControlName="abv"
             placeholder="Ex: 10"
             type="number"
             value="">
      <mat-error>
        {{service.form.get('abv').errors?.serverError}}
      </mat-error>
    </mat-form-field>
    <mat-form-field class="full-width">
      <mat-label>IBU</mat-label>
      <input matInput
             required
             formControlName="ibu"
             placeholder="Ex: 10"
             type="number"
             value="">
      <mat-error>
        {{service.form.get('ibu').errors?.serverError}}
      </mat-error>
    </mat-form-field>
    <mat-form-field class="full-width">
      <mat-label>EBC</mat-label>
      <input matInput
             required
             formControlName="ebc"
             placeholder="Ex: 10"
             type="number"
             value="">
      <mat-error>
        {{service.form.get('ebc').errors?.serverError}}
      </mat-error>
    </mat-form-field>
    <mat-form-field class="full-width">
      <mat-label>État</mat-label>
      <mat-select required
                  formControlName="state"
                  placeholder="Ex: Création">
        <mat-option *ngFor="let state of service.states"
                    [value]="state.value">
          {{state.viewValue}}
        </mat-option>
      </mat-select>
      <mat-error>
        {{service.form.get('state').errors?.serverError}}
      </mat-error>
    </mat-form-field>
  </mat-dialog-content>
  <div mat-dialog-actions
       class="flex-reverse">
    <button mat-button
            [disabled]="!service.form || service.form.invalid || service.loadingSource"
            type="submit"
            (click)="onSubmitClick()">
      <ng-container *ngIf="!value">Ajouter</ng-container>
      <ng-container *ngIf="value">Modifier</ng-container>
    </button>
    <button mat-button
            type="button"
            (click)="onCancelClick()">Annuler</button>
  </div>

</form>
